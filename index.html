<!DOCTYPE html>
<html>
<head>
  <title>LND Measurement App</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body class="p-6 font-sans">
  <h1>üìä LND Measurement (dB)</h1>

  <!-- Form -->
  <form id="dataForm">
    <input type="text" id="model" placeholder="‡∏ä‡∏∑‡πà‡∏≠‡∏£‡∏∏‡πà‡∏ô" required>
    <input type="number" id="value" placeholder="‡∏Ñ‡πà‡∏≤ dB" required>
    <button type="submit">‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</button>
  </form>

  <!-- Table -->
  <h2>‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏ß‡∏±‡∏î</h2>
  <table border="1" id="dataTable">
    <thead>
      <tr>
        <th>‡∏£‡∏∏‡πà‡∏ô</th>
        <th>‡∏Ñ‡πà‡∏≤ (dB)</th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>

  <!-- Chart -->
  <canvas id="chart" width="400" height="200"></canvas>

  <script>
    const data = [];
    const ctx = document.getElementById('chart').getContext('2d');
    const chart = new Chart(ctx, {
      type: 'bar',
      data: {
        labels: [],
        datasets: [{
          label: 'dB Value',
          data: [],
          borderWidth: 1
        }]
      }
    });

    // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
    document.getElementById('dataForm').addEventListener('submit', e => {
      e.preventDefault();
      const model = document.getElementById('model').value;
      const value = parseFloat(document.getElementById('value').value);

      data.push({model, value});
      data.sort((a, b) => b.value - a.value); // ‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏à‡∏≤‡∏Å‡∏°‡∏≤‡∏Å‡πÑ‡∏õ‡∏ô‡πâ‡∏≠‡∏¢

      // ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏ï‡∏≤‡∏£‡∏≤‡∏á
      const tbody = document.querySelector('#dataTable tbody');
      tbody.innerHTML = '';
      data.forEach(d => {
        tbody.innerHTML += `<tr><td>${d.model}</td><td>${d.value}</td></tr>`;
      });

      // ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏Å‡∏≤‡∏≤‡∏ü
      chart.data.labels = data.map(d => d.model);
      chart.data.datasets[0].data = data.map(d => d.value);
      chart.update();

      // Reset form
      e.target.reset();
    });
  </script>
</body>
</html>
